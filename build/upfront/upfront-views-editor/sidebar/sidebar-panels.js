!function(t){Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;upfrontrjs.define(["scripts/upfront/upfront-views-editor/sidebar/sidebar-panel-post-editor","scripts/upfront/upfront-views-editor/sidebar/sidebar-panel-posts","scripts/upfront/upfront-views-editor/sidebar/sidebar-panel-draggable-elements","scripts/upfront/upfront-views-editor/sidebar/sidebar-panel-settings"],function(e,i,s,n){return Backbone.View.extend({tagName:"ul",className:"sidebar-panels",initialize:function(){this.init_modules(),this.listenTo(Upfront.Events,"click:edit:navigate",this.init_modules)},init_modules:function(o){this.panels={};var p=Upfront.Application.is_plugin_layout(o);p&&p.killPostSettings?this.panels.post_editor=new e({message:p.killPostSettings}):this.panels.post_editor=new e({model:this.model}),this.panels.posts=new i({model:this.model}),this.panels.elements=new s({model:this.model}),this.panels.settings=new n({model:this.model}),void 0!==o?!1===o&&(this.panels=_.omit(this.panels,"post_editor")):void 0!==_upfront_post_data.post_id&&!1!==_upfront_post_data.post_id||(this.panels=_.omit(this.panels,"post_editor")),t("#upfront-inline-tooltip").hide(),Upfront.Application.remove_plugin_body_classes(),p&&p.bodyclass&&t("body").addClass(p.bodyclass)},render:function(){var t=this;t.$el.empty(),_.each(this.panels,function(e,i){e.remove(),e=t.panels[i],"post_editor"===i&&e.initialize(),e.render(),void 0!==e.global_option&&e.global_option?Upfront.Settings.Application.PERMS.OPTIONS&&t.$el.append(e.el):Upfront.Application.user_can_save_content()&&"post_editor"===i?t.$el.append(e.el):Upfront.Application.user_can_modify_layout()&&t.$el.append(e.el),e.delegateEvents()})}})})}(jQuery);