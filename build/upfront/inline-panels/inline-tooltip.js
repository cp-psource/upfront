!function(t){upfrontrjs.define([],function(){t.fn.utooltip=function(e){this.each(function(n,i){var s,l=e.panel;s=!0===e.fromTitle?t(i).attr("title"):e.content,tooltip=new o({element:t(i),content:s,panel:l,wrapper:!1})})};var o=Backbone.View.extend({className:"upfront-inline-tooltip",initialize:function(o){var e=t(o.element).find(".upfront-icon"),n=this;this.options=o,void 0!==this.options.wrapper&&!1===this.options.wrapper&&(e=t(o.element)),void 0===this.options.panel||"side"!==this.options.panel&&"normal"!==this.options.panel||(e=t(o.element).find("label")),e.on("mouseenter",function(t){n.openTooltip(t,o.content)}).on("mouseleave",function(t){n.closeTooltip()}),this.listenTo(Upfront.Events,"tooltip:close",this.closeTooltip)},openTooltip:function(o,e){var n=t("#upfront-inline-tooltip"),i=t(o.currentTarget).closest(".upfront-inline-panel"),s=this;void 0!==this.options.panel&&"tooltip"===this.options.panel&&(i=t(o.currentTarget).closest(".image-sub-control")),void 0!==this.options.panel&&"redactor"===this.options.panel&&(i=t(o.currentTarget).closest(".redactor_air"));var l,p;void 0!==this.options.panel&&"side"===this.options.panel?(i=t(o.currentTarget).closest("li"),l=i.offset(),p={top:l.top+4,left:l.left+i.outerWidth()+5}):void 0!==this.options.panel&&"postEditor"===this.options.panel?(i=t(o.currentTarget).closest(".upfront-editactions"),l=i.offset(),p={top:l.top-21,left:l.left,zIndex:100010059}):void 0!==this.options.panel&&"colorPicker"===this.options.panel?(i=t(o.currentTarget).closest(".uf-color-picker-wrapper"),l=i.offset(),p={top:l.top-24,left:l.left+1}):(i.length||(i=t(o.currentTarget).closest(".redactor_air")),l=i.offset(),p={top:l.top-i.outerHeight()+7,left:l.left}),n.length||(n=t('<div id="upfront-inline-tooltip" class="upfront-ui"></div>'),t("body").append(n)),n.hide().html(e),n.css(p).show().on("click",function(t){t.stopPropagation()}).on("closed",function(t){s.$el.removeClass("tooltip-open")}),this.$el.addClass("tooltip-open")},closeTooltip:function(){t("#upfront-inline-tooltip").hide().trigger("closed")}});return o})}(jQuery);